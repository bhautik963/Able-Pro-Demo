"use strict";
var core_1 = require('@angular/core');
var ɵngcc0 = require('@angular/core');
var NgTableSortingDirective = (function () {
    function NgTableSortingDirective() {
        this.sortChanged = new core_1.EventEmitter();
    }
    Object.defineProperty(NgTableSortingDirective.prototype, "config", {
        get: function () {
            return this.ngTableSorting;
        },
        set: function (value) {
            this.ngTableSorting = value;
        },
        enumerable: true,
        configurable: true
    });
    NgTableSortingDirective.prototype.onToggleSort = function (event) {
        if (event) {
            event.preventDefault();
        }
        if (this.ngTableSorting && this.column && this.column.sort !== false) {
            switch (this.column.sort) {
                case 'asc':
                    this.column.sort = 'desc';
                    break;
                case 'desc':
                    this.column.sort = '';
                    break;
                default:
                    this.column.sort = 'asc';
                    break;
            }
            this.sortChanged.emit(this.column);
        }
    };
    /** @nocollapse */
    NgTableSortingDirective.ctorParameters = [];
    NgTableSortingDirective.propDecorators = {
        'ngTableSorting': [{ type: core_1.Input },],
        'column': [{ type: core_1.Input },],
        'sortChanged': [{ type: core_1.Output },],
        'config': [{ type: core_1.Input },],
        'onToggleSort': [{ type: core_1.HostListener, args: ['click', ['$event'],] },],
    };
NgTableSortingDirective.ɵfac = function NgTableSortingDirective_Factory(t) { return new (t || NgTableSortingDirective)(); };
NgTableSortingDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: NgTableSortingDirective, selectors: [["", "ngTableSorting", ""]], hostBindings: function NgTableSortingDirective_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("click", function NgTableSortingDirective_click_HostBindingHandler($event) { return ctx.onToggleSort($event); });
    } }, inputs: { config: "config", ngTableSorting: "ngTableSorting", column: "column" }, outputs: { sortChanged: "sortChanged" } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgTableSortingDirective, [{
        type: core_1.Directive,
        args: [{ selector: '[ngTableSorting]' }]
    }], function () { return []; }, { sortChanged: [{
            type: core_1.Output
        }], config: [{
            type: core_1.Input
        }], onToggleSort: [{
            type: core_1.HostListener,
            args: ['click', ['$event']]
        }], ngTableSorting: [{
            type: core_1.Input
        }], column: [{
            type: core_1.Input
        }] }); })();
    return NgTableSortingDirective;
}());
exports.NgTableSortingDirective = NgTableSortingDirective;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctdGFibGUtc29ydGluZy5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIm5nLXRhYmxlLXNvcnRpbmcuZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFnQ00sQUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTQSIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBOZ1RhYmxlU29ydGluZ0RpcmVjdGl2ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUoKSB7XG4gICAgICAgIHRoaXMuc29ydENoYW5nZWQgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUucHJvdG90eXBlLCBcImNvbmZpZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmdUYWJsZVNvcnRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm5nVGFibGVTb3J0aW5nID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlLnByb3RvdHlwZS5vblRvZ2dsZVNvcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5nVGFibGVTb3J0aW5nICYmIHRoaXMuY29sdW1uICYmIHRoaXMuY29sdW1uLnNvcnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY29sdW1uLnNvcnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhc2MnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbi5zb3J0ID0gJ2Rlc2MnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZXNjJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW4uc29ydCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbi5zb3J0ID0gJ2FzYyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zb3J0Q2hhbmdlZC5lbWl0KHRoaXMuY29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbeyBzZWxlY3RvcjogJ1tuZ1RhYmxlU29ydGluZ10nIH0sXSB9LFxuICAgIF07XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICBOZ1RhYmxlU29ydGluZ0RpcmVjdGl2ZS5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAgICAgJ25nVGFibGVTb3J0aW5nJzogW3sgdHlwZTogY29yZV8xLklucHV0IH0sXSxcbiAgICAgICAgJ2NvbHVtbic6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgICAgICdzb3J0Q2hhbmdlZCc6IFt7IHR5cGU6IGNvcmVfMS5PdXRwdXQgfSxdLFxuICAgICAgICAnY29uZmlnJzogW3sgdHlwZTogY29yZV8xLklucHV0IH0sXSxcbiAgICAgICAgJ29uVG9nZ2xlU29ydCc6IFt7IHR5cGU6IGNvcmVfMS5Ib3N0TGlzdGVuZXIsIGFyZ3M6IFsnY2xpY2snLCBbJyRldmVudCddLF0gfSxdLFxuICAgIH07XG4gICAgcmV0dXJuIE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlO1xufSgpKTtcbmV4cG9ydHMuTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUgPSBOZ1RhYmxlU29ydGluZ0RpcmVjdGl2ZTtcbiJdfQ==